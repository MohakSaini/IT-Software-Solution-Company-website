if(typeof Object.create!=="function"){Object.create=function(b){function a(){}a.prototype=b;return new a}}(function(d,b,f,c){var a={init:function(g,e){this.options=d.extend({},d.fn.singlePageNav.defaults,g);this.container=e;this.$container=d(e);this.$links=this.$container.find("a");if(this.options.filter!==""){this.$links=this.$links.filter(this.options.filter)}this.$window=d(b);this.$htmlbody=d("html, body");this.$links.on("click.singlePageNav",d.proxy(this.handleClick,this));this.didScroll=false;this.checkPosition();this.setTimer()},handleClick:function(g){var j=this,h=g.currentTarget,e=d(h.hash);g.preventDefault();if(e.length){j.clearTimer();if(typeof j.options.beforeStart==="function"){j.options.beforeStart()}j.setActiveLink(h.hash);j.scrollTo(e,function(){if(j.options.updateHash&&history.pushState){history.pushState(null,null,h.hash)}j.setTimer();if(typeof j.options.onComplete==="function"){j.options.onComplete()}})}},scrollTo:function(k,h){var l=this;var j=l.getCoords(k).top;var g=false;l.$htmlbody.stop().animate({scrollTop:j},{duration:l.options.speed,easing:l.options.easing,complete:function(){if(typeof h==="function"&&!g){h()}g=true}})},setTimer:function(){var g=this;g.$window.on("scroll.singlePageNav",function(){g.didScroll=true});g.timer=setInterval(function(){if(g.didScroll){g.didScroll=false;g.checkPosition()}},250)},clearTimer:function(){clearInterval(this.timer);this.$window.off("scroll.singlePageNav");this.didScroll=false},checkPosition:function(){var h=this.$window.scrollTop();var g=this.getCurrentSection(h);this.setActiveLink(g)},getCoords:function(g){return{top:Math.round(g.offset().top)-this.options.offset}},setActiveLink:function(h){var g=this.$container.find("a[href$='"+h+"']");if(!g.hasClass(this.options.currentClass)){this.$links.removeClass(this.options.currentClass);g.addClass(this.options.currentClass)}},getCurrentSection:function(g){var k,j,e,h;for(k=0;k<this.$links.length;k++){j=this.$links[k].hash;if(d(j).length){e=this.getCoords(d(j));if(g>=e.top-this.options.threshold){h=j}}}return h||this.$links[0].hash}};d.fn.singlePageNav=function(g){return this.each(function(){var e=Object.create(a);e.init(g,this)})};d.fn.singlePageNav.defaults={offset:0,threshold:120,speed:400,currentClass:"current",easing:"swing",updateHash:false,filter:"",onComplete:false,beforeStart:false}})(jQuery,window,document);